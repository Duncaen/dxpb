<class
	name = "pkgfiles_msg"
	signature = "2"
	title = "DXPB File Location and Management Protocol"
	script = "../exec/zproto_codec_c"
	package_dir = "../include"
	source_dir = "."
	>

	<header>
		<field name = "proto_version" type = "string" value = "DPKG00">DXPB PKG Management Protocol Version 00</field>
	</header>

	<message name = "HELLO" id = "1" />
	<message name = "ROGER" id = "2" />
	<message name = "IFORGOTU" id = "3" />
	<message name = "PING" id = "4" />
	<message name = "INVALID" id = "5" />
	<message name = "PKGDEL" id = "6">
		<field name = "pkgname" type = "string" />
	</message>
	<message name = "PKGISDEL" id = "7">
		<field name = "pkgname" type = "string" />
	</message>
	<message name = "WANNASHARE?" id = "8">
		<field name = "pkgname" type = "string" />
		<field name = "version" type = "string" />
		<field name = "arch" type = "string" />
	</message>
	<message name = "IWANNASHARE" id = "9">
		<field name = "pkgname" type = "string" />
		<field name = "version" type = "string" />
		<field name = "arch" type = "string" />
		<field name = "checksum" type = "string" />
	</message>
	<message name = "IDONTWANNASHARE" id = "10">
		<field name = "pkgname" type = "string" />
		<field name = "version" type = "string" />
		<field name = "arch" type = "string" />
	</message>
	<message name = "GIMMEGIMMEGIMME" id = "11">
		<!-- A man after midnight -->
	</message>
	<message name = "CHUNK" id = "12">
		<field name = "validchunk" type = "number" size = "1" />
		<field name = "pkgname" type = "string" />
		<field name = "version" type = "string" />
		<field name = "arch" type = "string" />
		<field name = "subpath" type = "string">
			Subdir of hostdir where the pkg can be found
		</field>
		<field name = "position" type = "number" size = "8"/>
		<field name = "eof" type = "number" size = "1" />
		<field name = "data" type = "chunk" />
	</message>
	<message name = "PKGNOTHERE" id = "13">
		<field name = "pkgname" type = "string" />
		<field name = "version" type = "string" />
		<field name = "arch" type = "string" />
	</message>
	<message name = "PKGHERE" id = "14">
		<field name = "pkgname" type = "string" />
		<field name = "version" type = "string" />
		<field name = "arch" type = "string" />
	</message>
	<message name = "ISPKGHERE" id = "15">
		<field name = "pkgname" type = "string" />
		<field name = "version" type = "string" />
		<field name = "arch" type = "string" />
	</message>
</class>
